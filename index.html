<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>canvas 101</title>
</head>
<body>
    <input type="date" id="date" placeholder="birth date" style="border: 1px solid crimson"/>
    <button type="submit" onclick="weekNo()">submit</button>
    <p id="week"></p>
    <canvas id="c1" width="1380" height="800" style="border: 1px solid #f0f0f0;">
        your browser is shitty so you can't see this (it's probably something microsoft has made).
    </canvas>
    <script>
        var c = document.getElementById('c1');
        var c2d = c.getContext("2d");
        for(var i=0; i< 90; i++)
            for (var j = 0; j < 52; j++)
                c2d.rect(15 * i + 10, 15 * j + 10, 10, 10);
        c2d.stroke();

    </script>
    <script>
        function weekNo() {
            c2d.clearRect(0,0,c.width,c.height);
            var weekPeriod = 7 * 24 * 3600 * 1000;
            var birthDate = new Date(document.getElementById("date").value);
            var currentDate = Date.now();
            var diffWeeks = Math.round((currentDate - birthDate.getTime())/weekPeriod);
            document.getElementById("week").innerHTML = diffWeeks;
            fillWeeks(diffWeeks);
        }
        function fillWeeks(diffWeeks) {
            c2d.clearRect(0,0,c.width,c.height);
            for(var i=0; i< 90; i++)
                for (var j = 0; j < 52; j++)
                    c2d.rect(15 * i + 10, 15 * j + 10, 10, 10);
            c2d.stroke();
            // var year = diffWeeks / 52;
            // var week = diffWeeks % 52;
            c2d.fillStyle="#FF0000";
            for (var i = 0; i < diffWeeks; i++)
                c2d.fillRect(15 * Math.floor(i/52) + 10, 15 * (i%52) + 10, 10, 10);
            // for(var i=0; i< year-1; i++)
            //     for (var j = 0; j < 52; j++)
            //         c2d.fillRect(15 * i + 10, 15 * j + 10, 10, 10);
            // for(j = 0;j<week;j++)
            //     c2d.fillRect(15 * year + 10, 15 * j + 10, 10, 10);
        }
    </script>
</body>
</html>
